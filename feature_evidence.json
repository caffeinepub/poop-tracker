{
  "kind": "feature_evidence_report",
  "features": [
    {
      "featureId": "feature-rewrite-app-tsx-from-scratch-with-simple-reliable-two-phase-routing-1-while-the-actor-is-null-or-the-profile-query-is-still-loading-show-a-full-screen-centered-loading-spinner-with-the-text-loading-your-profile-2-once-both-the-actor-is-initialized-and-the-profile-query-has-settled-route-to-loginpage-if-not-authenticated-profilesetup-if-authenticated-but-no-profile-exists-or-dashboard-if-authenticated-and-a-profile-exists-do-not-use-tri-state-enums-do-not-render-profilesetup-or-dashboard-until-the-profile-query-has-fully-resolved",
      "featureTitle": "Rewrite App.tsx from scratch with simple, reliable two-phase routing: (1) while the actor is null OR the profile query is still loading, show a full-screen centered loading spinner with the text 'Loading your profile…'; (2) once both the actor is initialized AND the profile query has settled, route to LoginPage if not authenticated, ProfileSetup if authenticated but no profile exists, or Dashboard if authenticated and a profile exists. Do not use tri-state enums. Do not render ProfileSetup or Dashboard until the profile query has fully resolved.",
      "files": [
        "frontend/src/App.tsx"
      ],
      "components": [
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0",
        "authorization@4.0.0"
      ],
      "testIds": [
        "REQ-36"
      ],
      "confidence": "high"
    },
    {
      "featureId": "feature-rewrite-the-useprofile-hook-in-usequeries-ts-using-usequery-with-an-enabled-guard-the-backend-getprofile-call-must-only-fire-when-the-actor-is-confirmed-non-null-the-hook-must-return-isloading-true-while-the-actor-is-undefined-null-or-while-the-query-is-in-flight-and-only-return-a-settled-result-profile-or-null-after-the-async-call-has-fully-completed",
      "featureTitle": "Rewrite the useProfile hook in useQueries.ts using useQuery with an enabled guard: the backend getProfile call must only fire when the actor is confirmed non-null. The hook must return isLoading: true while the actor is undefined/null or while the query is in flight, and only return a settled result (profile or null) after the async call has fully completed.",
      "files": [
        "frontend/src/hooks/useQueries.ts"
      ],
      "components": [
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0",
        "authorization@4.0.0"
      ],
      "testIds": [
        "REQ-37"
      ],
      "confidence": "high"
    },
    {
      "featureId": "feature-rewrite-the-dashboard-page-frontend-src-pages-dashboard-tsx-as-a-single-unified-page-with-1-a-lifetime-daily-toggle-at-the-top-2-a-personal-stats-card-showing-the-logged-in-user-s-total-poops-and-total-wipes-lifetime-or-today-depending-on-toggle-3-a-log-a-poop-button-that-navigates-to-the-log-flow-4-a-leaderboard-standings-section-showing-all-users-ranked-by-total-poops-with-columns-for-display-name-emoji-total-poops-total-wipes-filtered-by-the-selected-toggle-mode-remove-all-efficient-wiper-references-remove-separate-leaderboard-and-alltimestandings-components-if-they-cause-complexity-inline-the-logic-cleanly",
      "featureTitle": "Rewrite the Dashboard page (frontend/src/pages/Dashboard.tsx) as a single unified page with: (1) a Lifetime/Daily toggle at the top, (2) a personal stats card showing the logged-in user's total poops and total wipes (lifetime or today depending on toggle), (3) a 'Log a Poop' button that navigates to the log flow, (4) a leaderboard/standings section showing all users ranked by total poops with columns for display name/emoji, total poops, total wipes — filtered by the selected toggle mode. Remove all Efficient Wiper references. Remove separate Leaderboard and AllTimeStandings components if they cause complexity; inline the logic cleanly.",
      "files": [
        "frontend/src/components/AllTimeStandings.tsx",
        "frontend/src/components/Leaderboard.tsx",
        "frontend/src/pages/Dashboard.tsx"
      ],
      "components": [
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0",
        "authorization@4.0.0"
      ],
      "testIds": [
        "REQ-38"
      ],
      "confidence": "high"
    },
    {
      "featureId": "feature-keep-the-profilesetup-page-frontend-src-pages-profilesetup-tsx-intact-and-functional-allow-users-to-set-a-display-name-choose-from-preset-emojis-pick-a-color-and-background-preview-their-profile-and-submit-the-profile-to-the-backend-ensure-emojis-are-properly-centered-in-their-selection-boxes-on-mobile",
      "featureTitle": "Keep the ProfileSetup page (frontend/src/pages/ProfileSetup.tsx) intact and functional: allow users to set a display name, choose from preset emojis, pick a color and background, preview their profile, and submit the profile to the backend. Ensure emojis are properly centered in their selection boxes on mobile.",
      "files": [
        "frontend/src/pages/ProfileSetup.tsx"
      ],
      "components": [
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0",
        "authorization@4.0.0"
      ],
      "testIds": [
        "REQ-39"
      ],
      "confidence": "high"
    },
    {
      "featureId": "feature-keep-the-logpoop-page-frontend-src-pages-logpoop-tsx-intact-a-simple-multi-step-flow-where-the-user-confirms-they-want-to-log-a-poop-enters-the-number-of-wipes-and-sees-a-success-screen-the-entry-is-submitted-to-the-backend-with-a-timestamp",
      "featureTitle": "Keep the LogPoop page (frontend/src/pages/LogPoop.tsx) intact: a simple multi-step flow where the user confirms they want to log a poop, enters the number of wipes, and sees a success screen. The entry is submitted to the backend with a timestamp.",
      "files": [
        "frontend/src/pages/LogPoop.tsx"
      ],
      "components": [
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0",
        "authorization@4.0.0"
      ],
      "testIds": [
        "REQ-40"
      ],
      "confidence": "high"
    }
  ]
}